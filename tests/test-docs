#!/usr/bin/env bash
set -e pipefail
# Version:0.1
# Author: Prasad Tengse
# Licence: GPLv3
# Github Repository: https://github.com/tprasadtp/after-effects-ubuntu
## Install Python packages
pip install --upgrade pip
pip install -r ./dockerfiles/mkdocs/requirements.txt
# Build Static
echo "Building Docs"
mkdocs build -v -s
echo "Copy API Files"
cp -R ./api/ ./_site/api/
echo "Copy Netlify Files"
cp -R ./vendor/ ./_site/vendor/
cp -R ./netlify.toml ./_site/netlify.toml
# Install htmlproofer
#echo "Installing bundler dependencies"
#bundle install
# html-proofer tests
#bundle exec htmlproofer ./_site --only-4xx --check-favicon
